<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">

<head>

<meta charset="utf-8">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="pandoc" />




<title>Using lattice’s bwplot()</title>

<script src="site_libs/jquery-1.11.3/jquery.min.js"></script>
<script src="site_libs/jqueryui-1.11.4/jquery-ui.min.js"></script>
<link href="site_libs/tocify-1.9.1/jquery.tocify.css" rel="stylesheet" />
<script src="site_libs/tocify-1.9.1/jquery.tocify.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/cosmo.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<link href="site_libs/font-awesome-4.5.0/css/font-awesome.min.css" rel="stylesheet" />

<style type="text/css">code{white-space: pre;}</style>
<link rel="stylesheet"
      href="site_libs/highlight/textmate.css"
      type="text/css" />
<script src="site_libs/highlight/highlight.js"></script>
<style type="text/css">
  pre:not([class]) {
    background-color: white;
  }
</style>
<script type="text/javascript">
if (window.hljs && document.readyState && document.readyState === "complete") {
   window.setTimeout(function() {
      hljs.initHighlighting();
   }, 0);
}
</script>



<style type="text/css">
h1 {
  font-size: 34px;
}
h1.title {
  font-size: 38px;
}
h2 {
  font-size: 30px;
}
h3 {
  font-size: 24px;
}
h4 {
  font-size: 18px;
}
h5 {
  font-size: 16px;
}
h6 {
  font-size: 12px;
}
.table th:not([align]) {
  text-align: left;
}
</style>

<link rel="stylesheet" href="styles.css" type="text/css" />

</head>

<body>

<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
code {
  color: inherit;
  background-color: rgba(0, 0, 0, 0.04);
}
img {
  max-width:100%;
  height: auto;
}
.tabbed-pane {
  padding-top: 12px;
}
button.code-folding-btn:focus {
  outline: none;
}
</style>

<style type="text/css">
/* padding for bootstrap navbar */
body {
  padding-top: 51px;
  padding-bottom: 40px;
}
/* offset scroll position for anchor links (for fixed navbar)  */
.section h1 {
  padding-top: 56px;
  margin-top: -56px;
}

.section h2 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h3 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h4 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h5 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h6 {
  padding-top: 56px;
  margin-top: -56px;
}
</style>

<script>
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark it active
  menuAnchor.parent().addClass('active');

  // if it's got a parent navbar menu mark it active as well
  menuAnchor.closest('li.dropdown').addClass('active');
});
</script>


<div class="container-fluid main-container">

<!-- tabsets -->
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});
</script>

<!-- code folding -->




<script>
$(document).ready(function ()  {

    // move toc-ignore selectors from section div to header
    $('div.section.toc-ignore')
        .removeClass('toc-ignore')
        .children('h1,h2,h3,h4,h5').addClass('toc-ignore');

    // establish options
    var options = {
      selectors: "h1,h2,h3",
      theme: "bootstrap3",
      context: '.toc-content',
      hashGenerator: function (text) {
        return text.replace(/[.\/?&!#<>]/g, '').replace(/\s/g, '_').toLowerCase();
      },
      ignoreSelector: ".toc-ignore",
      scrollTo: 0
    };
    options.showAndHide = false;
    options.smoothScroll = true;

    // tocify
    var toc = $("#TOC").tocify(options).data("toc-tocify");
});
</script>

<style type="text/css">

#TOC {
  margin: 25px 0px 20px 0px;
}
@media (max-width: 768px) {
#TOC {
  position: relative;
  width: 100%;
}
}

.toc-content {
  padding-left: 30px;
  padding-right: 40px;
}

div.main-container {
  max-width: 1200px;
}

div.tocify {
  width: 20%;
  max-width: 260px;
  max-height: 85%;
}

@media (min-width: 768px) and (max-width: 991px) {
  div.tocify {
    width: 25%;
  }
}

@media (max-width: 767px) {
  div.tocify {
    width: 100%;
    max-width: none;
  }
}

.tocify ul, .tocify li {
  line-height: 20px;
}

.tocify-subheader .tocify-item {
  font-size: 0.9em;
  padding-left: 5px;
}

.tocify .list-group-item {
  border-radius: 0px;
}

.tocify-subheader {
  display: inline;
}
.tocify-subheader .tocify-item {
  font-size: 0.95em;
  padding-left: 10px;
}

</style>

<!-- setup 3col/9col grid for toc_float and main content  -->
<div class="row-fluid">
<div class="col-xs-12 col-sm-4 col-md-3">
<div id="TOC" class="tocify">
</div>
</div>

<div class="toc-content col-xs-12 col-sm-8 col-md-9">




<div class="navbar navbar-inverse  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">tigerstats</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="index.html">Home</a>
</li>
<li>
  <a href="about.html">About</a>
</li>
<li>
  <a href="instructorNotes.html">For Instructors</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Vignettes
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li class="dropdown-header">Outlines</li>
    <li>
      <a href="R_Descriptive.html">Descriptive Outline</a>
    </li>
    <li>
      <a href="R_Inferential.html">Inferential Outline</a>
    </li>
    <li class="dropdown-header">Graphics</li>
    <li>
      <a href="barchartGC.html">Bar Charts</a>
    </li>
    <li>
      <a href="bwplot.html">Box-and-Whisker Plots</a>
    </li>
    <li>
      <a href="densityplot.html">Density Plots</a>
    </li>
    <li>
      <a href="histogram.html">Histograms</a>
    </li>
    <li>
      <a href="xyplot.html">Scatter Plots</a>
    </li>
    <li class="dropdown-header">Numerical Summaries</li>
    <li>
      <a href="favstats.html">Mosaic's Favstats</a>
    </li>
    <li>
      <a href="xtabs.html">Cross-tables and Percentages</a>
    </li>
    <li class="dropdown-header">Linear Mpdels</li>
    <li>
      <a href="lmGC.html">lmGC</a>
    </li>
    <li>
      <a href="polyfitGC.html">polyfitGC</a>
    </li>
    <li class="dropdown-header">Probability</li>
    <li>
      <a href="pbinomGC.html">pbinomGC</a>
    </li>
    <li>
      <a href="pnormGC.html">pnormGC</a>
    </li>
    <li>
      <a href="qnorm.html">qnorm</a>
    </li>
    <li>
      <a href="qnormGC.html">qnormGC</a>
    </li>
    <li class="dropdown-header">Inferential Procedures</li>
    <li>
      <a href="binomtestGC.html">binomtestGC</a>
    </li>
    <li>
      <a href="proptestGC.html">proptestGC</a>
    </li>
    <li>
      <a href="chisqtestGC.html">The Chi-Square Test</a>
    </li>
    <li>
      <a href="ttestGC.html">The t-Test</a>
    </li>
  </ul>
</li>
<li>
  <a href="resources.html">Related</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/homerhanumat/tigerstats">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div class="fluid-row" id="header">



<h1 class="title toc-ignore">Using lattice’s bwplot()</h1>

</div>


<div id="preliminaries" class="section level1">
<h1>Preliminaries</h1>
<p>The function <code>bwplot()</code> makes box-and-whisker plots for numerical variables. It comes from the <code>lattice</code> package for statistical graphics, which is pre-installed with every distribution of R. Also, package <code>tigerstats</code> depends on lattice, so if you load <code>tigerstats</code>:</p>
<pre class="r"><code>require(tigerstats)</code></pre>
<p>then <code>lattice</code> will be loaded as well.</p>
</div>
<div id="one-numerical-variable" class="section level1">
<h1>One Numerical Variable</h1>
<p>For a box-and-whisker plot of the fastest speeds ever driven by students in the <code>m111survey</code> data frame, use the command:</p>
<pre class="r"><code>bwplot(~fastest,data=m111survey,
       xlab=&quot;speed (mph)&quot;,
       main=&quot;Fastest Speed Ever Driven&quot;)</code></pre>
<p><img src="bwplot_files/figure-html/bwtutfastest-1.png" width="432" /></p>
<p>Note the use of:</p>
<ul>
<li>the <code>xlab</code> argument to label the horizontal axis, complete with units (miles per hour);</li>
<li>the <code>main</code> argument to provide a brief but descriptive title for the graph.</li>
</ul>
</div>
<div id="numerical-and-factor-variable" class="section level1">
<h1>Numerical and Factor Variable</h1>
<p>Say you want to know:</p>
<blockquote>
<p><em>Who tends to drive faster: the guys or the gals?</em></p>
</blockquote>
<p>Then you are studying the relationship between the numerical variable <strong>fastest</strong> and the factor variable <strong>sex</strong>. <code>bwplot()</code> will break the fastest speeds up by sex and parallel box-and-whisker plots, if you run the following command:</p>
<pre class="r"><code>bwplot(fastest~sex,data=m111survey,
       ylab=&quot;speed (mph)&quot;,
       main=&quot;Fastest Speed Ever Driven,\nby Sex of Subject&quot;)</code></pre>
<p><img src="bwplot_files/figure-html/bwtutfastestsex-1.png" width="432" /></p>
<p>Note the use of the “” to create a two-line title. This trick can come in handy if your title is long!</p>
<p>If you prefer your box-and-whisker plots to be horizontal, then you can reverse the order of the variables in the formula:</p>
<pre class="r"><code>bwplot(sex~fastest,data=m111survey,
       xlab=&quot;speed (mph)&quot;,
       main=&quot;Fastest Speed Ever Driven,\nby Sex of Subject&quot;)</code></pre>
<p><img src="bwplot_files/figure-html/bwtutfastestsexhoriz-1.png" width="432" /></p>
</div>
<div id="warning" class="section level1">
<h1>Warning</h1>
<p>Box-and-Whisker plots are great for studying:</p>
<ul>
<li>one numerical variable</li>
<li>the relationship between a numerical variable and a factor variable.</li>
</ul>
<p>However, if you try to study the relationship between two numerical variables with <code>bwplot()</code>, you will get bizarre results.</p>
<p>For example, suppose you want to study the relationship between fastest speed ever driven (<strong>fastest</strong>) and the grade point average (<strong>GPA</strong>) of the subjects in <code>m111survey</code>:</p>
<pre class="r"><code>bwplot(fastest~GPA,data=m111survey,
       ylab=&quot;speed (mph)&quot;,
       xbal=&quot;grade-point average&quot;,
       main=&quot;Fastes Speed Ever Driven,\nby Grade-Point Average&quot;)</code></pre>
<p><img src="bwplot_files/figure-html/bwtutbad-1.png" width="432" /></p>
<p><code>bwplot()</code> expects at least one of the two variable in the formula to be numerical. When it is presented with two numerical variables it politely makes do—apparently converting <strong>fastest</strong> into a new factor variable—but the resulting graph doesn’t make any sense at all.</p>
<p>Use <code>xyplot()</code> (scatterplots) to study the relationship between two numerical variables.</p>
</div>
<div id="additional-variables" class="section level1">
<h1>Additional Variables</h1>
<p>You can incorporate additional variables into your analysis by <em>facetting</em>, i.e., producing a plot with separate panels for each of several subgroups of the observations, as determined by one or two other variables.</p>
<p>Suppose, for example, that we would like to study the relationship between sex and fastest speed ever driven, but to break the subjects down further into groups determined by their height and by where they prefer to sit in a classroom. The following code accomplishes this:</p>
<pre class="r"><code>Height &lt;- equal.count(m111survey$height, number = 2, overlap = 0.1)
bwplot(sex ~ fastest | Height * seat,
    data = m111survey,
    layout = c(2,3))</code></pre>
<p><img src="bwplot_files/figure-html/bwtutfacet-1.png" width="432" /></p>
<p>In the code above, the line:</p>
<pre class="r"><code>Height &lt;- equal.count(m111survey$height, number = 2, overlap = 0.1)</code></pre>
<p>prepares us to facet by height. The <code>equal.count()</code> function takes a numerical variable and divides its values into groups of approximately equal size. The number of the groups is specified by the <code>number</code> argument. In this case we are asking for two groups: “shorter” students and “taller” students. The groups are permitted to contain some members in common, and the allowed percentage intersection is specified by the <code>overlap</code> argument. (Setting <code>overlap = 0</code> would result in completely disjoint groups.) The new variable <code>Height</code> is called a <em>shingle</em>, but you can think of it as a factor variable with two values: shorter and taller.</p>
<p>The formula <code>fastest ~ sex | Height * seat</code> <em>facets</em> by <code>Height</code> and <code>seat</code>. The variables by which you facet appear after a <code>|</code> bar, anf if you facet by two variables then you must separate them with a <code>*</code>. Since<code>Height</code> has two values and `seat has three values and <span class="math inline">\(2 \times 3 = 6\)</span>, we arrive at a plot with six panels.</p>
<p>The <code>layout</code> argument determines the number of rows and columns in our facet-ted plot. Setting <code>layout</code> to <code>c(2,3)</code> specified two columns and three rows. (Note that the columns are specified first!)</p>
</div>
<div id="further-refinements" class="section level1">
<h1>Further Refinements</h1>
<p>Box-and-whisker plots can be combined with other types of plots such as violin plots or individual-value plots. For these and other refinements, consult the <strong>Lattice Box-Whisker Plot</strong> Addin in RStudio.</p>
</div>



<!-- bizible -->
<script type="text/javascript" src="//cdn.bizible.com/scripts/bizible.js" async=""></script>


<!-- disqus -->
<!--  <div id="disqus_thread" style="margin-top: 45px;"></div>
    <script type="text/javascript">
        /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
        var disqus_shortname = 'rmarkdown'; // required: replace example with your forum shortname

        /* * * DON'T EDIT BELOW THIS LINE * * */
        (function() {
            var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
            dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        })();
    </script>
    <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
    <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>

-->


</div>
</div>

</div>

<script>

// add bootstrap table styles to pandoc tables
$(document).ready(function () {
  $('tr.header').parent('thead').parent('table').addClass('table table-condensed');
});

</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
